
<!--  -->

	<div class="easyui-layout" style="width:100%;height:100%;">
		<div id="e-create-p" data-options="region:'west'"  style="width:30%;padding:10px">
			
			<div class="easyui-tabs" style="width:100%;height:100%"> 
				<div title="项目树">
					<ul class="easyui-tree e-refresh_btn" data-options="url:'json/search.json',method:'get',animate:true"></ul>
				</div>
				<div title="项目查询" style="padding:10px">
					<ul class="easyui-tree e-refresh_btn" data-options="url:'json/tree.json',method:'get',animate:true"></ul>
				</div>
			</div>
		</div>
		<div data-options="region:'center'" >

			<div class="easyui-tabs" style="width:100%;height:100%">
		<form id="check－form" method="post">
		    <table width="100%" border="0" cellpadding="2" cellspacing="8">
		        <tr>
		            <td align="right" width="100">公司代码</td>
		            <td>
		                <input class="easyui-textbox" type="text" name="company-id"  value="cx2016" disabled>
		            </td>
		            <td align="right" width="100">项目定义</td>
		            <td>
		                <input class="easyui-textbox" type="text" name="company-id"  value="电力规划" disabled>
		            </td>
		            <td align="right" width="100"></td>
		            <td>
		               
		            </td>
		        </tr>
		        <tr>
		            <td><a href="#" class="easyui-linkbutton"  onclick="pmSync();" >PM设备同步</a></td>
		            <td></td>
		            <td align="right">
		            </td>
		            <td>
		            	
		            </td>
		            <td align="right">
		            </td>
		            <td>
		            	
		            </td>
		        </tr>
		    </table>
		</form>
		<div title="变电设备清单">
		    <table id="e-create-table" style="width:100%;height:70%" data-options="rownumbers:true,singleSelect:(this.value==1),pagination:true,url:'json/Ecreate.json',method:'get',toolbar:'#e-create-tb'">
					<thead>
						<tr>
							<th data-options="field:'ck',checkbox:true"></th>
							<th data-options="field:'productid',width:80">设备类型描述</th>
							<th data-options="field:'itemid',width:100">设备编码</th>
							<th data-options="field:'listprice',width:80,align:'right'">PMS编码</th>
							<th data-options="field:'unitcost',width:80,align:'right'">SAP编码</th>
							<th data-options="field:'attr1',width:150">设备描述</th>
							<th data-options="field:'status',width:60,align:'center'">电压等级</th>
							<th data-options="field:'a',width:100,align:'center'">资产描述</th>
							<th data-options="field:'b',width:100,align:'center'">项目描述</th>
							<th data-options="field:'isMain',width:60,align:'center'">是否主设备</th>
							<th data-options="field:'sta',width:60,align:'center'">BOM状态</th>
						</tr>
					</thead>
			</table>
			<div id="e-create-tb" style="padding:2px 5px;">
			    <a href="#" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="append(this)" value="新增">新增</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="append(this)" value="复制新增">复制新增</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-edit" plain="true" onclick="append(this)" value="修改">修改</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-no" plain="true" onclick="removeit()">删除</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-search" plain="true" onclick="getChanges()">显示</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-tool" plain="true">物料组一致性检查</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-tool" plain="true">无需对应物料组维护</a>
			</div>
		</div>
		<div title="输电设备清单">
		    <table id="e-create-table1" class="clearfix"  style="width:100%;height:70%" data-options="rownumbers:true,singleSelect:(this.value==1),pagination:true,url:'json/datagrid_data1.json',method:'get',toolbar:'#e-create-tb1'">
					<thead>
						<tr>
							<th data-options="field:'ck',checkbox:true"></th>
							<th data-options="field:'itemid',width:80">设备类型描述</th>
							<th data-options="field:'productid',width:100">设备编码</th>
							<th data-options="field:'listprice',width:80,align:'right'">PMS编码</th>
							<th data-options="field:'unitcost',width:80,align:'right'">SAP编码</th>
							<th data-options="field:'attr1',width:240">设备描述</th>
							<th data-options="field:'status',width:60,align:'center'">电压等级</th>
							<th data-options="field:'a',width:60,align:'center'">资产描述</th>
							<th data-options="field:'b',width:60,align:'center'">项目描述</th>
							<th data-options="field:'isMain',width:60,align:'center'">是否主设备</th>
							<th data-options="field:'sta',width:60,align:'center'">BOM状态</th>
						</tr>
					</thead>
			</table>
			<div id="e-create-tb1" style="padding:2px 5px;">
			    <a href="#" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="append()">新增</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="append()">复制新增</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-edit" plain="true" onclick="append()">修改</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-no" plain="true" onclick="removeit()">删除</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-search" plain="true" onclick="getChanges()">显示</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-tool" plain="true">物料组一致性检查</a>
			    <a href="#" class="easyui-linkbutton" iconCls="icon-tool" plain="true">无需对应物料组维护</a>
			</div>
		</div>
	</div>
		</div>
	</div>
	<script type="text/javascript">
		$(function(){
			var pager = $('#e-create-table').datagrid().datagrid('getPager');	// get the pager of datagrid
			pager.pagination({
				buttons:[{
					iconCls:'icon-search',
					handler:function(){
						alert('search');
					}
				},{
					iconCls:'icon-add',
					handler:function(){
						alert('add');
					}
				},{
					iconCls:'icon-edit',
					handler:function(){
						alert('edit');
					}
				}]
			});	
			var pager = $('#e-create-table1').datagrid().datagrid('getPager');	// get the pager of datagrid
			pager.pagination({
				buttons:[{
					iconCls:'icon-search',
					handler:function(){
						alert('search');
					}
				},{
					iconCls:'icon-add',
					handler:function(){
						alert('add');
					}
				},{
					iconCls:'icon-edit',
					handler:function(){
						alert('edit');
					}
				}]
			});	




	        $('.e-refresh_btn').tree({
	            animate:true,
	            onClick: function(node){
	                //alert(node.text);  // alert node text property when clicked
	                //alert(node.attributes.url)
	                //alert(node.attributes.url)
	                // alert(node.id)ßß
	                if($('.e-refresh_btn').tree('isLeaf',node.target)){
	         //           	    var pp = $('#aa').accordion('getSelected'); // 获取选中的面板（panel）
						    // if (pp){
						    //     pp.panel('refresh','modules/table.html'); // 调用 'refresh' 方法加载新内容
						    // }
						    $('#e-create-table,#e-create-table1').datagrid('reload');
	                }
	            }
	        });	
		})



				// pm同步
				function pmSync(){
					$('#e-create-table,#e-create-table1').datagrid('reload');
				}
	</script>